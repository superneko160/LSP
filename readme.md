# LSP（Liskov Substitution Principle）の学習用リポジトリ

## LSP（リスコフの置換原則）

SOLID原則のL。サブタイプは、そのスーパータイプと取り換え可能でなければならないという原則。  

スーパータイプとは、継承元となるものを指す。たとえば、インターフェース・抽象クラスのこと。  

サブタイプとは、スーパータイプを継承したものを指す。たとえば、インターフェースを実装したクラス・抽象クラスを継承したクラスのこと。  

リスコフの置換原則は、言い方を変えれば、***サブタイプのインスタンスは、スーパータイプのインスタンスと同じように振る舞うべきである***というもの。  

継承は```is-aの関係```を守る必要がある。加えて、リスコフの置換原則は、```is-aの関係```だけでなく、その挙動まで同じであることを求める。

## 守る方法

### サブタイプにしかないメソッドを追加しない

サブタイプにしかないメソッドを追加すると、サブタイプのインスタンスがスーパータイプのインスタンスと同じように振る舞わなくなる。つまり、LSPに反する。  

サブタイプに特定のメソッドが追加されている場合、```if```文などの条件分岐を使って、そのサブタイプを特別扱いしなければならなくなる。  これはOCP（オープン・クローズドの原則）にも反する。

### どのメソッドもオーバーライドしていない場合、継承の利用を避ける

サブタイプがスーパータイプの機能を利用するだけであれば、継承を利用しないほうがいい。代わりに、合成などスーパータイプのインスタンスをサブタイプで使うようにする。**継承は、スーパータイプとサブタイプのあいだで変数やメソッドを共有するためのものではない**点を念頭に置く。
